# Shell loader
# Sourced in bash and zsh
# OUTPUT FORBIDDEN since may run in non-interactive mode (via .zshenv)

export DKO_SOURCE="$DKO_SOURCE -> shell loader"
export DKO_LOADER=$$

# Store default system path --------------------------------------------------
# Probably created via /etc/profile and /etc/profile.d/*
# On OSX/BSD path_helper is run in /etc/profile, which generates paths using
# /etc/paths and /etc/paths.d/* and defines the initial $PATH
# Something like "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin"
if [[ -z "$DKO_SYSTEM_PATH" ]]; then
  DKO_SYSTEM_PATH="$PATH"
  export DKO_SYSTEM_PATH
fi

# There are no conditions to source these, straight up replace their
# definitions. We want these get sourced again if you start a subshell.
# vars may have been sourced in xprofile already
source "$HOME/.dotfiles/shell/vars"      # provides $NPM_PACKAGES
source "$HOME/.dotfiles/shell/functions" # provides source_if_exists, has_program
source "$HOME/.dotfiles/shell/paths"

# vim: syn=sh :
