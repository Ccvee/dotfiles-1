#!/bin/bash
# loader for login shells
# OUTPUT FORBIDDEN
# DOES NOT LOAD aliases since the shell may not be interactive

_dotfiles_shell_loader() {
  for script in "vars" "paths"; do
    local filename="$HOME/.dotfiles/shell/${script}"
    source "${filename}"
  done
}

# always load functions
source "$HOME/.dotfiles/shell/functions"

# maybe load rest of scripts
current_shell="$( ps | grep $$ | awk '{ print $4 }' )"
if [ "$DOTFILES_SHELL_LOADER" != "$current_shell" ]; then
  _dotfiles_shell_loader
  export DOTFILES_SHELL_LOADER=$current_shell
fi

case "$TERM" in
	linux)
		[ -n "$FBTERM" ] && export TERM="fbterm"
		;;
esac

# vim: set ft=sh :
