#!/usr/bin/env bash

# Shell aliases
# Not run by loader
# Sourced by both .zshrc and .bashrc, so keep it bash compatible

alias testnotification="notify-send 'Hello world!' 'This is an example notification.' --icon=dialog-information"

# paths and dirs
alias ..="cd .."
alias ....="cd ../.."
alias cd..="cd .."
alias dirs="dirs -v"                  # default to vert, use -l for list
alias tree="tree -C"

# ls aliases

# bin
alias b="brew"
alias bun="bundle"
alias be="bundle exec"
alias c="composer"
alias e="vopen"
alias f="find"
alias g="git"
alias g-="git co -"
alias gb="git browse"
alias n="npm"
alias pac="pacaur"
alias p="php"
alias py="python"
alias py2="python2"
alias py3="python3"
alias u="update"
alias v="vagrant"
alias vag="vagrant"
alias vb="VBoxManage"
alias vbm="VBoxManage"
alias startx="startx > ~/.dotfiles/logs/startx.log 2>&1"

# function-type aliases
alias publicip="curl icanhazip.com"
# really clear the scrollback
alias tpr="tput reset"
alias mine='sudo chown -R $USER'
alias xkbreset="setxkbmap -layout us && xmodmap ~/.Xmodmap"
alias today="date +%Y-%m-%d"

# default flags for programs
alias df="df -h"
# Always enable colored `grep` output
alias grep="grep --color=auto"
alias ln="ln -v"
# better than sudo su -- use current shell instead
alias rsync='rsync --human-readable --partial --progress'
alias wget="wget --no-check-certificate"

# sudo ops
alias root="sudo -s"
alias se="sudo -e"

# quick edits
alias edot='e $DOTFILES'
alias eshell='e $DOTFILES/shell'
alias ehosts="se /etc/hosts"
alias evm='e $VIM/plugin/mappings.vim'
alias evp='e $VIM/neobundle.vim'
alias evr='e $VIM/vimrc'

_alias_ls() {
  local oneline="-1"
  local almost_all="--almost-all"
  local classify="--classify"
  local colorized="--color=auto"
  local long="-l"
  local timestyle=""

  if [ "$DOTFILES_OS" = "Darwin" ]; then
    almost_all="-A"
    classify="-F"
    colorized="-G"
  fi

  if [ "$DOTFILES_OS" = "Linux" ] && [ "$DOTFILES_DISTRO" != "busybox" ]; then
    timestyle="--time-style=\"+%Y%m%d\""
  fi

  # shellcheck disable=SC2139
  alias ls="ls $colorized $classify $timestyle"
  # shellcheck disable=SC2139
  alias la="ls $almost_all"
  # shellcheck disable=SC2139
  alias l="ls $almost_all $oneline"
  # shellcheck disable=SC2139
  alias ll="l $long"
}
_alias_ls

# os specific
case "$OSTYPE" in
  darwin*)
    # clear xattrs
    alias xc="xattr -c *"

    # Audio control - http://xkcd.com/530/
    alias stfu="osascript -e 'set volume output muted true'"
    alias pumpitup="osascript -e 'set volume 7'"
    ;;
  linux*)
    alias open="o"

    case "$DOTFILES_DISTRO" in
      busybox)
        ;;
      archlinux)
        alias y="yaourt"
        alias pac="sudo pacman"
        alias thu="thunar"
        ;;
      debian)
        alias a="sudo aptitude -F \"%p %d %v\""
        ;;
    esac
    ;;
esac

# vim: syntax=sh :
