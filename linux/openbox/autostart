# openbox autostart
#
# These things are run when an Openbox X Session is started.
#
# Check ~/.config/autostart/ and /etc/xdg/autostart/ for other places programs
# might be starting from

# gnome compatibility
export GNOME_DESKTOP_SESSION_ID="openbox"
[ "$DESKTOP_SESSION" = "openbox" ]

# Background Image
if [ -f "$HOME/.fehbg" ]; then
  "$HOME/.fehbg" &
else
  feh --bg-scale "$HOME/Dropbox/Public/03338_emptiness_1920x1080.jpg" &
fi

# Compositing
compton -b --config "$HOME/.config/compton.conf" &

# Dock
# Can start on its own but I turned it off
docky --nvidia &

# Tint Panel
(sleep 1s && tint2 -c "$HOME/.config/tint2/tint2rc") &
# Thinkpad specific battery icon using tp_smapi
# Starts on its own from /etc/xdg/autostart
#tp-battery-icon &

# Dash
(sleep 1s && conky -d) &

# Keymaps
# GDM reads .Xmodmap -- don't do this, stalls everything for a few secs
#xmodmap "$HOME/src/davidosomething-config/potatoW510/.Xmodmap" &

# Start Thinkpad OSD daemon
if [ -x /usr/bin/tpb ] &&  [ -w /dev/nvram ] && [ -r /dev/nvram ]; then
  /usr/bin/tpb -d &
fi

# Launcher
# using xdg autostart
#(sleep 1s && synapse --startup) &

# Clipboard manager
# using xdg autostart
#(sleep 1s && parcellite -d) &

# Volume applet
(sleep 2s && pnmixer) &

(sleep 2s && indicator-virtualbox) &

# Apps
# Start thunar daemon so it opens faster
thunar --daemon &
(sleep 1s && gnome-terminal --hide-menubar) &
(sleep 1s && chromium) &

# vim: set ft=sh :
