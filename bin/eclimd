#!/usr/bin/env bash

__eclimd() {
  local bin
  if [ -x "/Applications/Eclipse Java.app/Contents/Eclipse/eclimd" ]; then
    bin="/Applications/Eclipse\ Java.app/Contents/Eclipse/eclimd"
  else
    dko::warn "eclimd not found"
    return 1
  fi

  local args
  (( $# == 0 )) && {
    args="-f ${DOTFILES}/eclimd/eclimrc"
    dko::status "Starting \`eclimd ${args}\`"
    eval "${bin} ${args}"
  }

  "$bin" "$@"
}

__eclimd "$@"
